<!DOCTYPE html>
<html lang="en-us">
<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<script type="application/ld+json">
    {
        "@context" : "http://schema.org",
        "@type" : "BlogPosting",
        "mainEntityOfPage": {
             "@type": "WebPage",
             "@id": "http://osguus.github.io"
        },
        "articleSection" : "post",
        "name" : "Home Surveillance Assistant (HSA)",
        "headline" : "Home Surveillance Assistant (HSA)",
        "description" : "<p>HSA is a personal project of mine, sprung up initially through the boredom of not having anything to do while at home for winter break. The goal was to make a two wheel differential drive robot using only off the shelf components that could be controlled and visualized remotely.</p>",
        "inLanguage" : "en",
        "author" : "",
        "creator" : "",
        "publisher": "",
        "accountablePerson" : "",
        "copyrightHolder" : "",
        "copyrightYear" : "2016",
        "datePublished": "2016-11-05 19:41:01 &#43;0530 &#43;0530",
        "dateModified" : "2016-11-05 19:41:01 &#43;0530 &#43;0530",
        "url" : "http://osguus.github.io/post/work2/",
        "wordCount" : "654",
        "image" : http://osguus.github.ioimg/hsa/hsa1.jpg",
        "keywords" : [ "Blog" ]   
    }
    </script>


 <title>Home Surveillance Assistant (HSA) </title>


<meta name="description" content="Oshadha&#39;s Website!" />



<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="robots" content="all,follow">
<meta name="googlebot" content="index,follow,snippet,archive">
<link rel="stylesheet" id="ct-tracks-google-fonts-css" href="//fonts.googleapis.com/css?family=Raleway%3A400%2C700&amp;subset=latin%2Clatin-ext&amp;ver=4.7.2" type="text/css" media="all">
<link rel="stylesheet" href="http://osguus.github.io/css/font-awesome.min.css" type='text/css' media='all'>

<link href="http://osguus.github.io/css/style.css" rel="stylesheet" id="theme-stylesheet" type='text/css' media='all'>

<link href="http://osguus.github.io/css/custom.css" rel="stylesheet" type='text/css' media='all'>
<link rel="shortcut icon" href="http://osguus.github.io/img/favicon.ico" type="image/x-icon">
<link rel="icon" href="http://osguus.github.io/img/favicon.ico" type="image/x-icon">


</head>


<body class="post-template-default single single-post single-format-standard ct-body singular singular-post not-front standard">

  <div id="overflow-container" class="overflow-container">
    <a class="skip-content" href="#main">Skip to content</a>
    <header id="site-header" class="site-header" role="banner">
      <div class='top-navigation'>
        <div class='container'>

  <div id="menu-secondary" class="menu-container menu-secondary" role="navigation">
    <button id="toggle-secondary-navigation" class="toggle-secondary-navigation"><i class="fa fa-plus"></i></button>

    <div class="menu">

      <ul id="menu-secondary-items" class="menu-secondary-items">
        
        <li id="menu-item" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item">
          <a href="/categories/projects">Projects</a>
        </li>
        

      </ul>

    </div>

  </div>


  <ul class="social-media-icons">


    
    <li>
      <a href="https://www.facebook.com/oshadha.gunasekara" data-animate-hover="pulse" class="facebook" target="_blank">
        <i class="fa fa-facebook-square" title="facebook"></i>
        <span class="screen-reader-text">facebook</span>
      </a>
    </li>
    

    

    

    
    <li>
      <a href="https://www.instagram.com/_oshadha_/" data-animate-hover="pulse" class="twitter" target="_blank">
        <i class="fa fa-instagram" title="instagram"></i>
        <span class="screen-reader-text">instagram</span>
      </a>
    </li>
    

    
    <li>
      <a href="mailto:ovg@andrew.cmu.edu" data-animate-hover="pulse" class="email">
        <i class="fa fa-envelope" title="email"></i>
        <span class="screen-reader-text">email</span>
      </a>
    </li>
    

    
    <li>
      <a href="https://www.linkedin.com/in/oshadhagunasekara/" data-animate-hover="pulse" class="linkedin" target="_blank">
        <i class="fa fa-linkedin" title="linkedin"></i>
        <span class="screen-reader-text">linkedin</span>
      </a>
    </li>
    

    


    
    <li>
      <a href="http://github.com/osguus" data-animate-hover="pulse" class="github" target="_blank">
        <i class="fa fa-github" title="github"></i>
        <span class="screen-reader-text">github</span>
      </a>
    </li>
    


    

    


  </ul></div>

      </div>

      <div class="container">
        <div id="title-info" class="title-info">
  <div id='site-title' class='site-title'>
    
    <a href="/"> Oshadha Gunasekara </a>
    </div>
  </div>
  <button id="toggle-navigation" class="toggle-navigation">
    <i class="fa fa-bars"></i>
  </button>

  <div id="menu-primary-tracks" class="menu-primary-tracks"></div>
  <div id="menu-primary" class="menu-container menu-primary" role="navigation">
    
    <p class="site-description">Roboticist | Developer | Hacker</p>
    

    <div class="menu">
      <ul id="menu-primary-items" class="menu-primary-items">
        
        
        <li id="menu-item" class='menu-item menu-item-type-custom menu-item-object-custom '>
          <a href="http://osguus.github.io/">Home</a>
          
        </li>
        
        <li id="menu-item" class='menu-item menu-item-type-post_type menu-item-object-page '>
          <a href="http://osguus.github.io/about/">About</a>
          
        </li>
        
        <li id="menu-item" class='menu-item menu-item-type-post_type menu-item-object-page '>
          <a href="http://osguus.github.io/resumes/">Resumes</a>
          
        </li>
        
        <li id="menu-item" class='menu-item menu-item-type-post_type menu-item-object-page '>
          <a href="http://osguus.github.io/contact/">Get in touch</a>
          
        </li>
        
      </ul>
    </div>

  </div>

      </div>
    </header>

    <div id="main" class="main" role="main">

      
  
  
    
  
  
  <div id="loop-container" class="loop-container">
    
    <div class="post type-post status-publish format-standard has-post-thumbnail hentry category-design tag-design tag-standard-2 tag-tagalicious tag-travel entry full-without-featured odd excerpt-1">

      <div class='featured-image lazy lazy-bg-image'  data-background="http://osguus.github.io/img/hsa/hsa1.jpg">
      </div>
      
        <div class="entry-meta">
          <span class="date">05 November</span>	<span> / </span>

          <span class="author">
            <a href="http://osguus.github.io" title="Posts by Oshadha Gunasekara" rel="author">Oshadha Gunasekara</a>
          </span>


          
          <span class="category">
            <span> / </span>

            <a href="/categories/Projects">Projects</a>
          </span>
          


        </div>
        <div class='entry-header'>
          <h1 class='entry-title'> Home Surveillance Assistant (HSA)</h1>
        </div>
        <div class="entry-container">
          <div class="entry-content">
            <article>
              <p>HSA is a personal project of mine, sprung up initially through the boredom of not having anything to do while at home for winter break. The goal was to make a two wheel differential drive robot using only off the shelf components that could be controlled and visualized remotely.</p>

<p>Currently, HSA has gone through one major iteration. The first iteration of HSA included the following:</p>

<ul>
<li>2 NeveRest Classic 40 Gearmotors</li>
<li>1 L298 Dual Motor Driver</li>
<li>1 TalentCell 12V 6000mAh DC Battery Pack</li>
<li>1 Raspberry Pi 3</li>
<li>1 Arduino Uno</li>
<li>1 Raspberry Pi Camera</li>
</ul>

<p>The chassis for the robot was designed to be made with MDF, in the shape of a box. The two actuated wheels would be supported by a single caster on the opposite side of the box. Since we did not have any power tools, the chassis was cut using handsaws and assembled with screws and wood glue. To get a higher vantage point, I planned to have the camera attached on top of a long PVC pipe. This pipe attached to the base of the chassis. Further, an acrylic sheet was placed on top of the bottom box, secured with magnets.</p>

<p><img src="/img/hsa/hsa12.jpg" alt="HSA 1" /></p>

<p>Initially, I planned to power the gearmotors with the 12V from the TalentCell and control them with the L298 driver. After wiring up this setup and testing, I realized that I had made a large mistake. The gearmotors I had bought had a stall current of around 11 A, while the battery pack could only support 2 A. Further, the L298 driver could only handle constant 2 A combined from both ports. This lack of power led to an inability to properly control the speed of the motors.</p>

<p>Nevertheless, I pushed forward in the development of HSA. At this point, I was not very familiar in ROS. As a result, I used a ROS-clone that the founder of the Atlas Project had written, called Atlasbuggy. Using this proprietary backend, I was able to write software to control the actuators as well as broadcast video from the Pi Camera.</p>

<p>I created a multi-platform application using the <a href="https://ionicframework.com/">Ionic Framework</a>, allowing me to communicate with HSA through HTTP requests. Through this, I was able to create a mobile application to control the robot&rsquo;s and camera&rsquo;s movement while seeing the camera view. The following is an example of how it worked:</p>

<p><iframe width="1920" height="1080" src="https://www.youtube.com/embed/Y1jixg0DsWU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
</p>

<h2 id="hsa-2">HSA 2</h2>

<p>The next time I was home for break, I decided to improve upon the first HSA. For this iteration, I decided to use a 3S LiPo battery to power the robot and two Cytron 13A DC motor drivers. The new design had a circular design and had two caster wheels instead of one for further stability.</p>

<p><img src="/img/hsa/hsa2.jpg" alt="HSA 2" /></p>

<p>With these motor drivers, I am able to properly control the speed of the motors. Further, I purchased encoder wires for the attached motor encoders. With these motor encoders, I am able to get the position of the wheels.</p>

<p>Using the encoder data, I wrote a simple velocity calculator utilizing a first order filter. An explanation of this method is shown below:</p>

<pre><code class="language-python"># new_vel is calculated from encoder vals and time
# cur_vel is current calculated velocity

K = 0.1

err = new_vel - cur_vel
cur_vel = cur_vel + err * K
</code></pre>

<p>Above, we can see that the velocity estimate converges to the actual velocity depending on the value of K. The lower the value of K, the system is better at getting rid of noise but worse at converging. The higher the value of K, the system is faster at converging but worse at handling noise. By tuning this constant, we get a decent velocity estimate from the wheels.</p>

<p>By using this velocity estimate, we can develop a feedback velocity controller for the wheels, allowing us to precisely control the velocity of each wheel.</p>

<p>The software of HSA 2 is still under development, but I will update this page when more progress is made.</p>
            </article>
          </div>
          
      <div class='entry-meta-bottom'>
        

  <div class="entry-categories"><p><span>Categories</span>
    
    <a href="/categories/projects" title="View all posts in Projects">Projects</a>
  </p>
</div>



<div class="entry-tags"><p><span>Tags</span>
  

</p></div>	</div>

	
<div class="author-meta">

  <div class="author">
    	
      <img alt='Oshadha Gunasekara' src="https://www.gravatar.com/avatar/3ed68d10209ed3467cc5cb7b539f8192?s=100&d=identicon" class='avatar avatar-72 photo' height='72' width='72'>
    
    <span>
      Written by:<a href="https://osguus.github.io" title="Posts by Oshadha Gunasekara" rel="author">Oshadha Gunasekara</a> </span>
    </div>
    <div class="bio">
      
      
      <p>Oshadha is an enthusiastic maker, developer, and roboticist. He's always looking to learn more about how to make cool things.</p>
      
      
	
      

    


  

















</div>
</div>

</div>
</div>

<section id="comments" class="comments">
  

  




</section>
</div>

 



    </div>

    <footer id="site-footer" class="site-footer" role="contentinfo">
	<h1>
    
    <a href=""> Oshadha Gunasekara </a>
    
	</h1>

			
			<p class="site-description">Roboticist | Developer | Hacker</p>
			

		<div id="menu-footer" class="menu-container menu-footer" role="navigation">
		<div class="menu">

      <ul id="menu-footer-items" class="menu-footer-items">
        
</ul>

</div>	</div>

<ul class="social-media-icons">

        
				<li>
					<a class="facebook" target="_blank"
					   href="https://www.facebook.com/oshadha.gunasekara" >
						<i class="fa fa-facebook" title="facebook"></i>
						<span class="screen-reader-text">facebook</span>
					</a>
				</li>
        

        


        

        
        <li>
        <a href="https://www.instagram.com/_oshadha_/"  class="twitter" target="_blank">
            <i class="fa fa-instagram" title="instagram"></i>
            <span class="screen-reader-text">instagram</span>
        </a>
        </li>
        

        
        <li>
        <a href="mailto:ovg@andrew.cmu.edu"  class="email">
            <i class="fa fa-envelope" title="email"></i>
            <span class="screen-reader-text">email</span>
        </a>
        </li>
        

        
        <li>
        <a href="https://www.linkedin.com/in/oshadhagunasekara/" class="linkedin" target="_blank">
            <i class="fa fa-linkedin" title="linkedin"></i>
            <span class="screen-reader-text">linkedin</span>
        </a>
        </li>
        

        


        
        <li>
        <a href="http://github.com/osguus"  class="github" target="_blank">
            <i class="fa fa-github" title="github"></i>
            <span class="screen-reader-text">github</span>
        </a>
        </li>
        


        

        

				</ul>	<div class="design-credit">
		
		<p>Nederburg Hugo Theme by <a href="https://appernetic.io">Appernetic</a>.</p>
		
	</div>
</footer>

  </div>
  <script src="http://osguus.github.io/js/jquery.min.js"></script>
<script src="http://osguus.github.io/js/jquerymigrate.js"></script>
<script src="http://osguus.github.io/js/production.min.js"></script>

</body>
</html>
